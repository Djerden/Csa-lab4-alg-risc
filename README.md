# Лабораторная работа №4

Студент: Горло Евгений Николаевич

Вариант: `alg | risc | harv | hw | tick | binary | trap | mem | pstr | prob1 | pipeline`

**Краткие сведения по варианту:**

`alg` - синтаксис языка должен напоминать java/javascript/lua. Должен поддерживать математические выражения.

`risc` - система команд должна быть упрощенной, в духе RISC архитектур:
- Стандартизированная длина команд.
- Операции над данными осуществляются только в рамках регистров.
- Доступ к памяти и ввод-вывод -- отдельные операции (с учётом специфики вашего варианта mem/port).

`harv` - Гарвардская архитектура памяти, тип памяти - однопортовая.

`hw` - hardwired Control Unit. Реализуется как часть модели.

`tick` - процессор необходимо моделировать с точностью до такта, процесс моделирования может быть приостановлен на любом такте.

`binary` - бинарное представление машинного кода. 
- Требуются настоящие бинарные файлы, а не текстовые файлы с `0` и `1`.
- Требуется отладочный вывод в текстовый файл вида:
    ``` 
    <address> - <HEXCODE> - <mnemonic>
    20 - 03340301 - add #01 <- 34 + #03
    ```

`trap` - ввод-вывод осуществляется токенами через систему прерываний.

`mem` - memory-mapped (порты ввода-вывода отображаются в память и доступ к ним осуществляется штатными командами)
- отображение портов ввода-вывода в память должно конфигурироваться

`pstr` - поддержка строк Length-prefixed (Pascal string)

`pipeline` - конвейерная организация работы процессора:
- Количество стадий конвейера -- не менее 3.
- Необходимо показать влияние конвейера на производительность написанных программ.
- В схеме необходимо явно отразить стадии работы конвейера.

## Язык программирования


## Организация памяти


## Система команд


## Транслятор


## Модель процессора

На схемах не стоит использовать вентили и демультиплексоры из-за сложности их понимания. Рисовать стоит на мультиплексорах и на защелках

Как стоит реализовывать: 
1. Рисование схемы с пониманием как работает каждая инструкция
2. Написание кода

### DataPath
Та часть процессора, которая занимается обработкой данных (сумматоры, ввод-вывод, регистры)

Не должно быть управляющей логики

### ControlUnit
Отвечает за управление, как считаются инструкции, как считаются микроинструкции, как происходят преобразования

## Тестирование

golden тесты - тестирование, в котором на каждый тест создается конфигурационный файл, в нем есть поля, которые определяют входные данные, значения на выходе

есть библиотеку для python, работает как тестирование через черный ящик